/* Minimalist, stylish theme for the map app */
:root{
  --bg:#0f1113;
  --panel:rgba(255,255,255,0.04);
  --muted:#98a0a6;
  --accent:#7dd3fc;
  --glass:rgba(255,255,255,0.04);
  --btn-bg:rgba(255,255,255,0.04);
  --btn-hover:rgba(255,255,255,0.06);
  --card:#0f1113;
  --white:#f7fafc;
}

html,body{height:100%;margin:0;background:var(--bg);font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
#map{height:100%;width:100%;display:block;background:var(--bg)}

/* Ensure Leaflet container and panes use dark background where image is transparent */
.leaflet-container{background:var(--bg) !important}
.leaflet-pane, .leaflet-map-pane, .leaflet-tile-pane{background:transparent}

/* Toolbar (glass, minimalist) */
.toolbar{
  position:fixed;left:20px;top:20px;z-index:10000;display:flex;flex-direction:column;gap:10px;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));backdrop-filter: blur(6px);box-shadow:0 6px 20px rgba(2,6,23,0.6);
}

/* Layers panel (top-right) */
.layers-panel{position:fixed;right:18px;top:18px;z-index:12000;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));backdrop-filter:blur(6px);padding:10px;border-radius:10px;box-shadow:0 6px 20px rgba(2,6,23,0.5);min-width:160px}
.layers-header{font-weight:700;color:var(--white);margin-bottom:8px;font-size:13px}
.layers-list{display:flex;flex-direction:column;gap:6px}
.layer-item{display:flex;align-items:center;gap:8px}
.layer-item label{color:var(--white);font-size:13px}
.layer-opacity{margin-left:auto;width:60px}

.btn{
  appearance:none;border:0;padding:10px 14px;border-radius:10px;background:var(--btn-bg);color:var(--white);font-weight:600;letter-spacing:0.2px;cursor:pointer;transition:all .16s ease;min-width:90px;text-align:center;font-size:14px;border:1px solid rgba(255,255,255,0.03);
}
.btn:hover{transform:translateY(-3px);background:var(--btn-hover)}
.btn.active{background:var(--accent);color:#06202a;box-shadow:0 8px 20px rgba(125,211,252,0.12);transform:translateY(-3px)}

/* Popup styling */
.leaflet-popup-content-wrapper{background:linear-gradient(180deg,#0d1113,#0b0f11);color:var(--white);border-radius:10px;padding:12px;border:1px solid rgba(255,255,255,0.03)}
.leaflet-popup-tip{background:linear-gradient(180deg,#0d1113,#0b0f11)}
.leaflet-popup-content a{color:var(--accent);font-weight:600;text-decoration:none}

/* Custom pin */
.custom-pin{line-height:0}
.custom-pin .pin{display:inline-block;width:20px;height:20px;border-radius:50% 50% 50% 0;transform:rotate(-45deg);margin-top:2px;box-shadow:0 2px 6px rgba(2,6,23,0.6);border:2px solid rgba(255,255,255,0.9);}

/* Color picker modal */
#colorPickerModal{position:fixed;inset:0;z-index:40000;display:none;align-items:center;justify-content:center}
#colorPickerModal[aria-hidden="false"]{display:flex}
.color-picker-backdrop{position:absolute;inset:0;background:linear-gradient(180deg, rgba(3,7,12,0.6), rgba(3,7,12,0.6));backdrop-filter:blur(6px)}
.color-picker-panel{position:relative;background:linear-gradient(180deg,#0e1416,#071015);color:var(--white);padding:18px;border-radius:10px;width:320px;box-shadow:0 12px 40px rgba(2,6,23,0.7);border:1px solid rgba(255,255,255,0.03)}
.color-picker-panel h3{margin:0 0 10px 0;font-size:15px;font-weight:700}
.color-row{display:flex;gap:8px;align-items:center;margin-bottom:12px}
.color-row input[type="text"]{flex:1;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--white)}
.color-actions{display:flex;gap:8px;justify-content:flex-end}
.color-actions .btn{min-width:88px;padding:8px 12px}

/* small responsive tweaks */
@media (max-width:480px){.toolbar{left:12px;top:12px;padding:8px}.btn{font-size:13px;padding:8px 10px}}

/* Edit modal tweaks (reuse color-picker panel styles) */
#editModal{z-index:45000}
#editModal .color-picker-panel{width:360px}
#editModal input[type="text"],#editModal textarea{border:1px solid rgba(255,255,255,0.04);background:transparent;padding:8px;border-radius:8px;color:var(--white)}
#editModal textarea{resize:vertical}
#editModal #edit_delete{background:linear-gradient(180deg,#ff5a5a,#e64545);border:0}
